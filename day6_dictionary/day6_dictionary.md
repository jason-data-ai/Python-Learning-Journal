# ğŸ“„ Day6 ë¦¬í¬íŠ¸: ì¤‘ì²© ë”•ì…”ë„ˆë¦¬ êµ¬ì¡° ì„¤ê³„

---

## âœ… í•™ìŠµ ì£¼ì œ

- ì¤‘ì²© ë”•ì…”ë„ˆë¦¬ êµ¬ì¡° ì´í•´ ë° ì„¤ê³„
- `defaultdict` vs `.setdefault()` ë¹„êµ
- ìƒíƒœ ì €ì¥ êµ¬ì¡° ì„¤ê³„: ë‚ ì§œ â†’ ì‚¬ìš©ì â†’ í–‰ë™

---

## ğŸ“Œ í•µì‹¬ ê°œë… ìš”ì•½

| í•­ëª© | ì„¤ëª… |
|------|------|
| `defaultdict(list)` | í‚¤ê°€ ì—†ì„ ê²½ìš° ìë™ìœ¼ë¡œ ë¹ˆ ë¦¬ìŠ¤íŠ¸ ìƒì„± |
| `.setdefault(key, [])` | í‚¤ê°€ ì—†ì„ ê²½ìš° í•´ë‹¹ í‚¤ì— ë¹ˆ ë¦¬ìŠ¤íŠ¸ ì‚½ì… í›„ append |
| `defaultdict(dict)` | ì¤‘ì²© ë”•ì…”ë„ˆë¦¬ ê¸°ë³¸ êµ¬ì¡° |
| ìƒíƒœ ëˆ„ì  êµ¬ì¡° | ë‚ ì§œ â†’ ì‚¬ìš©ì â†’ í–‰ë™ ì‹œí€€ìŠ¤ë¥¼ ì¤‘ì²© ë”•ì…”ë„ˆë¦¬ë¡œ í‘œí˜„ |

---

## ğŸ§  í•™ìŠµ ì½”ë“œ íë¦„ ìš”ì•½

```python
from collections import defaultdict

logs = [
    ("2025-04-01", "kim", "visit"),
    ("2025-04-01", "lee", "visit"),
    ("2025-04-01", "kim", "cart"),
    ("2025-04-01", "kim", "buy"),
    ("2025-04-02", "lee", "visit"),
    ("2025-04-02", "choi", "visit"),
    ("2025-04-02", "choi", "cart")
]

user_logs = defaultdict(dict)

for log in logs:
    if not log[1] in user_logs:
        user_logs[log[1]].setdefault(log[0], []).append(log[2])
    elif not user_logs[log[1]].get(log[0]):
        user_logs[log[1]].setdefault(log[0], []).append(log[2])
    else:
        user_logs[log[1]][log[0]].append(log[2])
```

---

## âœ… í‰ê°€ ìš”ì•½

| í•­ëª© | í‰ê°€ | ì„¤ëª… |
|------|------|------|
| êµ¬ì¡° ì„¤ê³„ | â­â­â­â­â˜† | ì¤‘ì²© êµ¬ì¡° íë¦„ êµ¬ì„± ì •í™•, ì¡°ê±´ ë¶„ê¸° ì¤‘ë³µ ì•½ê°„ ìˆìŒ |
| `.setdefault()` ì´í•´ | â­â­â­â­â­ | ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™” ëª©ì ì— ë§ê²Œ ì •í™•íˆ ì‚¬ìš© |
| defaultdict(dict) | â­â­â­â­â˜† | í™œìš© ëª©ì ì— ë¶€í•©, ë‹¨ lambda êµ¬ì¡°ë¡œ ê°œì„  ì—¬ì§€ ìˆìŒ |
| ì¡°ê±´ íë¦„ | â­â­â­â­â˜† | ì¤‘ë³µ if â†’ elif ìµœì í™” ê°€ëŠ¥, ì„¤ê³„ì  ì˜ë„ëŠ” ëª…í™• |

---

## ğŸ“˜ ë¦¬í¬íŠ¸ ìš”ì•½

- ì¤‘ì²© ë”•ì…”ë„ˆë¦¬ì˜ êµ¬ì¡°ì™€ íë¦„ì„ ì²´ë“í•œ ì²« ë²ˆì§¸ ë‹¨ê³„
- `user â†’ date â†’ action list`ì˜ êµ¬ì¡°ë¥¼ ìˆ˜ì‘ì—…ìœ¼ë¡œ ì„¤ê³„
- ì¡°ê±´ ë¶„ê¸°ë¥¼ ì§ì ‘ êµ¬í˜„í•¨ìœ¼ë¡œì¨ **ìë™í™” ì„¤ê³„ ì´ì „ì˜ ê¸°ë°˜ í•™ìŠµ ì™„ì„±**
- ë‹¤ìŒ í•™ìŠµì˜ lambda + defaultdict êµ¬ì¡°ë¥¼ ìœ„í•œ í•µì‹¬ ì „ì œ í•™ìŠµ

---

## ğŸ” ë‹¤ìŒ í•™ìŠµ ê³„íš

| Day | ì£¼ì œ |
|-----|------|
| **Day6_lambda** | `defaultdict(lambda: defaultdict(list))` êµ¬ì¡°ë¡œ ìë™í™” ì„¤ê³„ |
| Day7 | ì‚¬ìš©ìë³„ ìƒíƒœ ì‹œí€€ìŠ¤ë¥¼ ë‹¨ì¼ ë¦¬ìŠ¤íŠ¸ë¡œ êµ¬ì„± (`defaultdict(list)`) |
| Day7.5 | ìƒíƒœ ì „ì´ íë¦„ êµ¬ì„±ìœ¼ë¡œ í™•ì¥ ì˜ˆì • |

---

---

## ğŸ“š ë”•ì…”ë„ˆë¦¬ í•µì‹¬ ê°œë… ì •ë¦¬ (ì¶”ê°€ í™•ì¥)

---

### ğŸ”¹ ê¸°ë³¸ êµ¬ì¡°

```python
d = {"a": 1, "b": 2}
```

- í‚¤ëŠ” ê³ ìœ í•´ì•¼ í•˜ë©°, ë¦¬ìŠ¤íŠ¸/ë”•ì…”ë„ˆë¦¬ì™€ ë‹¬ë¦¬ ì¸ë±ìŠ¤ê°€ ì—†ìŒ
- ìˆœíšŒëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í‚¤ ê¸°ì¤€

---

### ğŸ”¹ ì£¼ìš” ë©”ì„œë“œ ìš”ì•½

| ë©”ì„œë“œ | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|
| `d.keys()` | í‚¤ ëª©ë¡ ë°˜í™˜ | `dict_keys(['a', 'b'])` |
| `d.values()` | ê°’ ëª©ë¡ ë°˜í™˜ | `dict_values([1, 2])` |
| `d.items()` | (í‚¤, ê°’) ìŒ ë°˜í™˜ | `[('a', 1), ('b', 2)]` |
| `d.get(k)` | í‚¤ ì—†ì„ ê²½ìš° None ë°˜í™˜ | `d.get('c') â†’ None` |
| `d[k]` | í‚¤ ì—†ì„ ê²½ìš° ì—ëŸ¬ | `d['c'] â†’ KeyError` |
| `d.setdefault(k, [])` | í‚¤ ì—†ìœ¼ë©´ ê°’ ì´ˆê¸°í™” í›„ ë°˜í™˜ | `d.setdefault('x', []).append(1)` |
| `d.update({})` | ë”•ì…”ë„ˆë¦¬ ë³‘í•© | `d.update({'x': 3})` |
| `del d[k]` | í‚¤ ì‚­ì œ | `del d['a']` |

---

### ğŸ”¹ ë”•ì…”ë„ˆë¦¬ ì»´í”„ë¦¬í—¨ì…˜

```python
squared = {x: x**2 for x in range(5)}
```

- ì¡°ê±´ í¬í•¨ë„ ê°€ëŠ¥: `{x: x for x in nums if x > 0}`

---

### ğŸ”¹ ì¤‘ì²© ë”•ì…”ë„ˆë¦¬ íŒ¨í„´

```python
from collections import defaultdict

d = defaultdict(lambda: defaultdict(list))
d["kim"]["2025-04-01"].append("visit")
```

- ìë™ ì´ˆê¸°í™”ì˜ ê¶ê·¹ì²´
- `.setdefault()`ë³´ë‹¤ ë” ê¹”ë”í•œ íŒ¨í„´
- ë‹¨, ë¬´ì¡°ê±´ lambdaë¡œ ê°ì‹¸ì•¼ ì•ˆì „ (shared ê°ì²´ ë¬¸ì œ ë°©ì§€)

---

### ğŸ”¹ ë°˜ë³µë¬¸ íŒ¨í„´

```python
for k, v in d.items():
    print(k, v)
```

- `.items()`ëŠ” ì‹¤ë¬´ì—ì„œ ê±°ì˜ ëª¨ë“  ë£¨í”„ì˜ ê¸°ë³¸
- `.values()`ë§Œ ë°˜ë³µí•  ë•ŒëŠ” í‚¤ê°€ í•„ìš” ì—†ì„ ë•Œë§Œ ì‚¬ìš©

---

### ğŸ”¹ ì£¼ì˜ ì‚¬í•­

- `dict()`ëŠ” í´ë˜ìŠ¤, `defaultdict()`ë„ í´ë˜ìŠ¤
- `list`ëŠ” callableì´ë¯€ë¡œ `defaultdict(list)`ì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆìŒ
- `defaultdict(defaultdict(list))`ëŠ” ê°ì²´ê°€ ì¦‰ì‹œ ìƒì„±ë¼ **ëª¨ë“  í‚¤ê°€ ê°™ì€ ê°ì²´ë¥¼ ì°¸ì¡°í•¨**
    â†’ ë°˜ë“œì‹œ lambdaë¡œ ê°ì‹¸ì•¼ ê°ê°ì˜ ë…ë¦½ëœ ê°ì²´ ìƒì„± ê°€ëŠ¥

---

